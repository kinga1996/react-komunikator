{"version":3,"sources":["components/Message/index.js","components/MessageForm/index.js","config.js","App.js","index.js"],"names":["Message","message","className","user","timestamp","datetime","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","convertDate","content","MessageForm","handleSubmit","handleContentChange","handleUserNameChange","onSubmit","id","type","name","value","onChange","placeholder","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","db","database","App","useState","newMessage","setNewMessage","messagesDow","setMessagesDow","userName","setUserName","useEffect","ref","on","snapshot","fbMessages","val","convertedMessages","Object","entries","map","key","event","target","preventDefault","messageObj","now","push","then","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4MAkCeA,MAZf,YAA+B,IAAZC,EAAW,EAAXA,QACjB,OACE,yBAAKC,UAAU,WACb,yBAAKA,UAAU,iBACZD,EAAQE,KAAM,IACf,0BAAMD,UAAU,iBAvBxB,SAAqBE,GACnB,IAAMC,EAAW,IAAIC,KAAKF,GAEtBG,EAAMF,EAASG,UACfC,EAAQJ,EAASK,WAEjBC,EAAON,EAASO,cAEhBC,EAAQR,EAASS,WACjBC,EAAMV,EAASW,aACfC,EAAMZ,EAASa,aAKnB,OAHIH,EAAM,KAAKA,EAAM,IAAIA,GACrBE,EAAM,KAAKA,EAAM,IAAIA,GAEjBV,EAAI,IAVK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,OAAQ,MAAO,MAAO,MAAO,MAAO,OAUrEE,GAAQ,IAAKE,EAAM,MAAQE,EAAO,IAAKE,EAAK,IAAKE,EAQtCE,CAAYlB,EAAQI,YAEvD,yBAAKH,UAAU,oBAAoBD,EAAQmB,W,MCZlCC,MAbf,YAA+F,IAAzElB,EAAwE,EAAxEA,KAAMF,EAAkE,EAAlEA,QAASqB,EAAyD,EAAzDA,aAAcC,EAA2C,EAA3CA,oBAAqBC,EAAsB,EAAtBA,qBACpE,OACI,6BACI,0BAAMC,SAAUH,GACZ,2BAAOI,GAAG,OAAOC,KAAK,OAAOC,KAAK,OAAOC,MAAO1B,EAAM2B,SAAUN,EAAsBO,YAAY,SAClG,2BAAOL,GAAG,OAAOC,KAAK,OAAOC,KAAK,UAAUC,MAAO5B,EAAS6B,SAAUP,EAAqBQ,YAAY,YACvG,2BAAOJ,KAAK,SAASE,MAAM,c,iBCGzCG,IAASC,cAXY,CACrBC,OAAQ,0CACRC,WAAY,oCACZC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,4CACPC,YAAa,2DAMb,IAEeC,EAFJT,IAASU,WCgDPC,MAvDf,WAAgB,IAAD,EAEsBC,mBAAS,IAF/B,mBAENC,EAFM,KAEMC,EAFN,OAGyBF,mBAAS,IAHlC,mBAGNG,EAHM,KAGOC,EAHP,OAImBJ,mBAAS,IAJ5B,mBAINK,EAJM,KAIIC,EAJJ,KAuCb,OAjCAC,qBAAU,WACRV,EAAGW,IAAI,aAAaC,GAAG,SAAS,SAACC,GAC/B,IAAMC,EAAaD,EAASE,MACtBC,EAAoBC,OAAOC,QAAQJ,GAAc,IAAIK,KAAI,mCAAElC,EAAF,KAAMzB,EAAN,wBAAC,eAC3DA,GAD0D,IAE7DyB,UAEFsB,EAAeS,QAEhB,IAyBD,yBAAKvD,UAAU,OACZ6C,EAAYa,KAAI,SAAC3D,GAAD,OACf,kBAAC,EAAD,CAAS4D,IAAK5D,EAAQyB,GAAIzB,QAASA,OAErC,kBAAC,EAAD,CACEE,KAAQ8C,EACRhD,QAAW4C,EACXvB,aAvBe,SAACwC,GACNA,EAAMC,OAAOlC,MAC3BiC,EAAME,iBACN,IAAMC,EAAa,CACjB9D,KAAM8C,EACN7B,QAASyB,EACTxC,SAAUC,KAAK4D,OAEbrB,GAAcI,GAChBR,EAAGW,IAAI,aACJe,KAAKF,GACLG,MAAK,kBAAMtB,EAAc,MAAKI,EAAY,MAa3C1B,qBA5BuB,SAACsC,GAC5BZ,EAAYY,EAAMC,OAAOlC,QA4BrBN,oBAhCsB,SAACuC,GAC3BhB,EAAcgB,EAAMC,OAAOlC,YCrB/BwC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.08dc3694.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"./styl.css\";\r\n\r\nfunction convertDate(timestamp) {\r\n  const datetime = new Date(timestamp);\r\n\r\n  let day = datetime.getDate();\r\n  let month = datetime.getMonth();\r\n  let monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n  let year = datetime.getFullYear();\r\n\r\n  let hours = datetime.getHours();\r\n  let min = datetime.getMinutes();\r\n  let sec = datetime.getSeconds();\r\n\r\n  if (min < 10) {min = \"0\"+min;}\r\n  if (sec < 10) {sec = \"0\"+sec;}\r\n\r\n  return (day+' '+ monthNames[month] +' '+ year+ ' - ' + hours +':'+ min +':'+ sec);\r\n}\r\n\r\nfunction Message({ message }) {\r\n  return (\r\n    <div className=\"message\">\r\n      <div className=\"message--user\">\r\n        {message.user}{\" \"}\r\n        <span className=\"message--time\">{convertDate(message.datetime)}</span>\r\n      </div>\r\n      <div className=\"message--content\">{message.content}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\n\r\nimport \"./styl.css\";\r\n\r\nfunction MessageForm({user, message, handleSubmit, handleContentChange, handleUserNameChange}){\r\n    return(\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <input id=\"name\" type=\"text\" name=\"user\" value={user} onChange={handleUserNameChange} placeholder=\"Nick\"/>\r\n                <input id=\"text\" type=\"text\" name=\"content\" value={message} onChange={handleContentChange} placeholder=\"Message\"/>\r\n                <input type=\"submit\" value=\"Submit\" />\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default MessageForm;","import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBj7AgAAFkZRP0BeHYYtsZqjKPMrxZKqts\",\r\n  authDomain: \"komunikator-1679c.firebaseapp.com\",\r\n  projectId: \"komunikator-1679c\",\r\n  storageBucket: \"komunikator-1679c.appspot.com\",\r\n  messagingSenderId: \"279923152659\",\r\n  appId: \"1:279923152659:web:37f2002bd497ef5635ece6\",\r\n  databaseURL: \"https://komunikator-1679c-default-rtdb.firebaseio.com/\"\r\n};\r\n\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  const db = firebase.database();\r\n\r\n  export default db;","import React, {useState, useEffect} from 'react';\nimport './style.css';\n\nimport Message from './components/Message';\nimport MessageForm from './components/MessageForm';\n\nimport db from './config';\n\nfunction App() {\n\n  const [newMessage, setNewMessage]= useState(\"\");\n  const [messagesDow, setMessagesDow] = useState([]);\n  const [userName, setUserName] = useState(\"\");\n\n  useEffect(() => {\n    db.ref(\"/messages\").on(\"value\", (snapshot) => {\n      const fbMessages = snapshot.val();\n      const convertedMessages = Object.entries(fbMessages || {}).map(([id, message]) => ({\n        ...message,\n        id\n      }));\n      setMessagesDow(convertedMessages);\n    });\n  }, []);\n\n  const handleContentChange = (event) => {\n    setNewMessage(event.target.value);\n  };\n  const handleUserNameChange = (event) => {\n    setUserName(event.target.value);\n  };\n\n  const handleSubmit = (event) =>{\n    const value = event.target.value;\n    event.preventDefault();\n    const messageObj = {\n      user: userName,\n      content: newMessage,\n      datetime: Date.now()\n    }\n    if (newMessage && userName) {\n      db.ref('/messages')\n        .push(messageObj)\n        .then(() => setNewMessage(''), setUserName(''));\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      {messagesDow.map((message) => (\n        <Message key={message.id} message={message}/>\n      ))}\n      <MessageForm\n        user = {userName}\n        message = {newMessage}\n        handleSubmit={handleSubmit}\n        handleUserNameChange={handleUserNameChange}\n        handleContentChange={handleContentChange}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}